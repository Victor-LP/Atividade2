from funcoes import *
# Dicionário inicial da frota
frota = {
    "porta-aviões": [],
    "navio-tanque": [],
    "contratorpedeiro": [],
    "submarino": [],
}

# Quantidades
nPA = 0
nNT = 0
nNC = 0
nS = 0

# Porta-aviões
while nPA < 1:
    print("Insira as informações referentes ao navio porta-aviões que possui tamanho 4")
    lin = int(input("Linha: "))
    col = int(input("Coluna: "))
    ori_input = int(input("[1] Vertical [2] Horizontal >"))
    if ori_input == 1:
        ori = 'vertical'
    elif ori_input == 2:
        ori = 'horizontal'
    else:
        print("Orientação inválida.")
        continue

    if posicao_valida(frota, lin, col, ori, 4):
        frota = preenche_frota(frota, "porta-aviões", lin, col, ori, 4)
        nPA += 1
    else:
        print("Esta posição não está válida!")

# Navio-tanque
while nNT < 2:
    print("Insira as informações referentes ao navio navio-tanque que possui tamanho 3")
    lin = int(input("Linha: "))
    col = int(input("Coluna: "))
    ori_input = int(input("[1] Vertical [2] Horizontal >"))
    if ori_input == 1:
        ori = 'vertical'
    elif ori_input == 2:
        ori = 'horizontal'
    else:
        print("Orientação inválida.")
        continue

    if posicao_valida(frota, lin, col, ori, 3):
        frota = preenche_frota(frota, "navio-tanque", lin, col, ori, 3)
        nNT += 1
    else:
        print("Esta posição não está válida!")

# Contratorpedeiro
while nNC < 3:
    print("Insira as informações referentes ao navio contratorpedeiro que possui tamanho 2")
    lin = int(input("Linha: "))
    col = int(input("Coluna: "))
    ori_input = int(input("[1] Vertical [2] Horizontal >"))
    if ori_input == 1:
        ori = 'vertical'
    elif ori_input == 2:
        ori = 'horizontal'
    else:
        print("Orientação inválida.")
        continue

    if posicao_valida(frota, lin, col, ori, 2):
        frota = preenche_frota(frota, "contratorpedeiro", lin, col, ori, 2)
        nNC += 1
    else:
        print("Esta posição não está válida!")

# Submarino
while nS < 4:
    print("Insira as informações referentes ao navio submarino que possui tamanho 1")
    lin = int(input("Linha: "))
    col = int(input("Coluna: "))
    ori = 'horizontal'  # não importa para tamanho 1

    if posicao_valida(frota, lin, col, ori, 1):
        frota = preenche_frota(frota, "submarino", lin, col, ori, 1)
        nS += 1
    else:
        print("Esta posição não está válida!")

from funcoes import *

# Inicializa frota
frota = {
    "porta-aviões": [],
    "navio-tanque": [],
    "contratorpedeiro": [],
    "submarino": [],
}

# Quantidades
nPA = 0
nNT = 0
nNC = 0
nS = 0

# Porta-aviões
while nPA < 1:
    print("Insira as informações referentes ao navio porta-aviões que possui tamanho 4")
    lin = int(input("Linha: "))
    col = int(input("Coluna: "))
    ori_input = int(input("[1] Vertical [2] Horizontal >"))
    if ori_input == 1:
        ori = 'vertical'
    elif ori_input == 2:
        ori = 'horizontal'
    else:
        print("Orientação inválida.")
        continue

    if posicao_valida(frota, lin, col, ori, 4):
        frota = preenche_frota(frota, "porta-aviões", lin, col, ori, 4)
        nPA += 1
    else:
        print("Esta posição não está válida!")

# Navio-tanque
while nNT < 2:
    print("Insira as informações referentes ao navio navio-tanque que possui tamanho 3")
    lin = int(input("Linha: "))
    col = int(input("Coluna: "))
    ori_input = int(input("[1] Vertical [2] Horizontal >"))
    if ori_input == 1:
        ori = 'vertical'
    elif ori_input == 2:
        ori = 'horizontal'
    else:
        print("Orientação inválida.")
        continue

    if posicao_valida(frota, lin, col, ori, 3):
        frota = preenche_frota(frota, "navio-tanque", lin, col, ori, 3)
        nNT += 1
    else:
        print("Esta posição não está válida!")

# Contratorpedeiro
while nNC < 3:
    print("Insira as informações referentes ao navio contratorpedeiro que possui tamanho 2")
    lin = int(input("Linha: "))
    col = int(input("Coluna: "))
    ori_input = int(input("[1] Vertical [2] Horizontal >"))
    if ori_input == 1:
        ori = 'vertical'
    elif ori_input == 2:
        ori = 'horizontal'
    else:
        print("Orientação inválida.")
        continue

    if posicao_valida(frota, lin, col, ori, 2):
        frota = preenche_frota(frota, "contratorpedeiro", lin, col, ori, 2)
        nNC += 1
    else:
        print("Esta posição não está válida!")

# Submarino
while nS < 4:
    print("Insira as informações referentes ao navio submarino que possui tamanho 1")
    lin = int(input("Linha: "))
    col = int(input("Coluna: "))
    ori = 'horizontal'  # não importa para tamanho 1

    if posicao_valida(frota, lin, col, ori, 1):
        frota = preenche_frota(frota, "submarino", lin, col, ori, 1)
        nS += 1
    else:
        print("Esta posição não está válida!")

frota_oponente = {
    'porta-aviões': [
        [[9, 1], [9, 2], [9, 3], [9, 4]]
    ],
    'navio-tanque': [
        [[6, 0], [6, 1], [6, 2]],
        [[4, 3], [5, 3], [6, 3]]
    ],
    'contratorpedeiro': [
        [[1, 6], [1, 7]],
        [[0, 5], [1, 5]],
        [[3, 6], [3, 7]]
    ],
    'submarino': [
        [[2, 7]],
        [[0, 6]],
        [[9, 7]],
        [[7, 6]]
    ]
}
tabuleiro_oponente = posiciona_frota(frota_oponente)
tabuleiro_jogador = posiciona_frota(frota)
while afundados(frota_oponente, tabuleiro_oponente) < 10:
    print(monta_tabuleiros(tabuleiro_jogador, tabuleiro_oponente))
    while True:
        lin =  int(input("jogador, qual linha atacar?: "))
        while lin < 0 or lin > 9:
            print("Linha inválida!")
            lin = int(input("jogador, qual linha atacar?: "))
        col =  int(input("jogador, qual coluna atacar?: "))
        while col < 0 or col > 9:
            print("Coluna inválida!")
            col =  int(input("jogador, qual coluna atacar?: "))
        if tabuleiro_oponente[lin][col] in ['X', '-']:
            print(f"A posição linha {lin} e coluna {col} já foi informada anteriormente!")
            continue
        break
    tabuleiro_oponente = faz_jogada(tabuleiro_oponente, lin, col)
print("Parabéns! Você afundou todos os navios do oponente!")